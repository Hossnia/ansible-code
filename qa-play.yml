---
- hosts: ws
  become: yes
  become_user: yes
  ignore_errors: yes
  tasks:
    - name: Install Packages
      yum:
        state: present
        name:
          - docker
          - wget
          - lsof
          - passwd
          - unzip
          - java-11*
    
    - name: Create Directory
      file:
        path: /opt/qa/spg
        state: directory
    
    - name: Create a log file
      file:
        path: /opt/qa/spg/spg.log
        state: touch

    - name: Start and Enable Daemon
      service:
        name: dockerd
        state: started
        enabled: yes